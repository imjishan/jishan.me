---
import BaseHead from '../../components/BaseHead.astro'
import { SITE_TITLE, SITE_DESCRIPTION } from '../../consts'
import { getCollection } from 'astro:content'
import FormattedDate from '../../components/FormattedDate.astro'

const posts = (await getCollection('blog')).sort(
  (a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf()
)
---

<!doctype html>
<html lang='en'>
  <head>
    <BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />
  </head>
  <body class='bg-zinc-900'>
     
    <main
      class='mx-auto w-full max-w-screen-md h-screen flex flex-col justify-between px-4 md:px-10'
    >
      <div class='flex flex-col space-y-8'>
        <a
          href='/'
          class='flex flex-row space-x-1 text-zinc-400 text-sm items-center group'
        >
          <svg
            xmlns='http://www.w3.org/2000/svg'
            width='22'
            height='12.38'
            viewBox='0 0 16 9'
            class='group-hover:text-zinc-200 group-hover:-translate-x-1 duration-200'
            ><path
              fill='currentColor'
              d='M12.5 5h-9c-.28 0-.5-.22-.5-.5s.22-.5.5-.5h9c.28 0 .5.22.5.5s-.22.5-.5.5Z'
            ></path><path
              fill='currentColor'
              d='M6 8.5a.47.47 0 0 1-.35-.15l-3.5-3.5c-.2-.2-.2-.51 0-.71L5.65.65c.2-.2.51-.2.71 0c.2.2.2.51 0 .71L3.21 4.51l3.15 3.15c.2.2.2.51 0 .71c-.1.1-.23.15-.35.15Z'
            ></path></svg
          >
          <span class='group-hover:text-zinc-200'>Back</span>
        </a>
        <span class='text-zinc-200 border-b pb-8 border-zinc-600'>Writing</span>
        <div class='grid grid-cols-1 gap-4'>
          {
            posts.map((post) => (
              <a
                href={`/blog/${post.slug}/`}
                class='flex flex-row justify-between'
              >
                <h4 class='text-zinc-300'>{post.data.title}</h4>
                <p class='text-zinc-500'>
                  <FormattedDate date={post.data.pubDate} />
                </p>
              </a>
            ))
          }
        </div>
      </div>
    </main>
  </body>
</html>
